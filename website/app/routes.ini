[routes]

; cli
GET /cli/smarty/clear-compiled-templates [cli] = \GeoKrety\Controller\Cli\SmartyTemplates->clearCompiledTemplates
GET /cli/smarty/compile-all-templates [cli] = \GeoKrety\Controller\Cli\SmartyTemplates->compileAllTemplates
GET /cli/gettext/build-translations [cli] = \GeoKrety\Controller\Cli\GetText->buildTranslations

; main pages
GET @health: /health = \GeoKrety\Controller\HealthCheck->get
GET @work_in_progress: /work-in-progress = \GeoKrety\Controller\StaticPages->work_in_progress
HEAD @home: / = \GeoKrety\Controller\StaticPages->head
GET @home: / = \GeoKrety\Controller\Home->get
GET @terms_of_use: /terms-of-use [sync] = \GeoKrety\Controller\StaticPages->terms_of_use
GET @terms_of_use: /terms-of-use [ajax] = \GeoKrety\Controller\StaticPages->terms_of_use_ajax
GET @press_corner: /press-corner = \GeoKrety\Controller\StaticPages->press_corner
GET @mole_holes: /mole-holes = \GeoKrety\Controller\MoleHoles->get
GET @advanced_search: /search/advanced = \GeoKrety\Controller\StaticPages->work_in_progress
GET @photo_gallery: /picture/gallery = \GeoKrety\Controller\StaticPages->work_in_progress
GET @downloads: /downloads = \GeoKrety\Controller\StaticPages->downloads
GET @geokrety_toolbox: /geokrety-toolbox = \GeoKrety\Controller\StaticPages->geokrety_toolbox
GET @contact_us: /contact-us = \GeoKrety\Controller\StaticPages->contact_us
GET @hall_of_fame: /hall-of-fame = \GeoKrety\Controller\HallOfFame->get

; user pages
GET @user_pictures: /user/@userid/pictures = \GeoKrety\Controller\StaticPages->work_in_progress
GET @user_owned_pictures: /user/@userid/owned/pictures = \GeoKrety\Controller\StaticPages->work_in_progress
GET @geokrety_map: /geokrety/map = \GeoKrety\Controller\Map->get
GET @user_statistics: /user/@userid/statistics = \GeoKrety\Controller\StaticPages->work_in_progress

; registration
GET @registration: /registration = \GeoKrety\Controller\Registration->get
POST @registration: /registration = \GeoKrety\Controller\Registration->post, 0, 32  ; no cache + Rate limit
GET @registration_activate: /registration/@token/activate = \GeoKrety\Controller\RegistrationActivate->get, 0, 16  ; no cache + Rate limit

; login
GET @login: /login [sync] = \GeoKrety\Controller\Login->loginForm
;GET @login: /login [ajax] = \GeoKrety\Controller\Login->loginFormFragment
POST @login: /login [sync] = \GeoKrety\Controller\Login->login, 0, 32  ; no cache + Rate limit
;POST @login: /login [ajax] = \GeoKrety\Controller\Login->loginFragment

; logout
GET @logout: /logout = \GeoKrety\Controller\Login->logout

; labels
GET @geokret_label_generator: /geokrety/@gkid/label = \GeoKrety\Controller\GeokretDetails->get

; news subscription
GET  @news_subscription: /news/@newsid/subscribe [sync] = \GeoKrety\Controller\NewsSubscription->subscription
GET  @news_subscription: /news/@newsid/subscribe [ajax] = \GeoKrety\Controller\NewsSubscription->subscriptionFragment
POST @news_subscription: /news/@newsid/subscribe        = \GeoKrety\Controller\NewsSubscription->subscriptionToggle

; news list
GET @news_list: /news = \GeoKrety\Controller\NewsList->get
GET @news_list_paginate: /news/page/@page = \GeoKrety\Controller\NewsList->get

; move comment actions
GET  @move_comment_create: /move/@moveid/comment [sync] = \GeoKrety\Controller\MoveCommentCreate->get_comment
GET  @move_comment_create: /move/@moveid/comment [ajax] = \GeoKrety\Controller\MoveCommentCreate->get_comment_ajax
POST @move_comment_create: /move/@moveid/comment = \GeoKrety\Controller\MoveCommentCreate->post_comment
GET  @move_comment_create_missing: /move/@moveid/missing [sync] = \GeoKrety\Controller\MoveCommentCreate->get_missing
GET  @move_comment_create_missing: /move/@moveid/missing [ajax] = \GeoKrety\Controller\MoveCommentCreate->get_missing_ajax
POST @move_comment_create_missing: /move/@moveid/missing = \GeoKrety\Controller\MoveCommentCreate->post_missing

; user language chooser actions
GET  @user_language_chooser: /user/prefered-language [sync] = \GeoKrety\Controller\UserChoosePreferedLanguage->get
GET  @user_language_chooser: /user/prefered-language [ajax] = \GeoKrety\Controller\UserChoosePreferedLanguage->get_ajax
POST @user_language_chooser: /user/prefered-language = \GeoKrety\Controller\UserChoosePreferedLanguage->post

; user update email actions
GET  @user_update_email: /user/update-email [sync] = \GeoKrety\Controller\UserUpdateEmail->get
GET  @user_update_email: /user/update-email [ajax] = \GeoKrety\Controller\UserUpdateEmail->get_ajax
POST @user_update_email: /user/update-email = \GeoKrety\Controller\UserUpdateEmail->post, 0, 16  ; no cache + Rate limit
GET  @user_update_email_validate: /user/email-change/validate = \GeoKrety\Controller\UserEmailChange->get
POST @user_update_email_validate: /user/email-change/validate = \GeoKrety\Controller\UserEmailChange->get
GET  @user_update_email_validate_token: /user/email-change/@token/validate = \GeoKrety\Controller\UserEmailChangeToken->get
POST @user_update_email_validate_token: /user/email-change/@token/validate = \GeoKrety\Controller\UserEmailChangeToken->post
GET  @user_update_email_revert_token: /user/email-change/@token/revert = \GeoKrety\Controller\UserEmailChangeRevertToken->get
POST @user_update_email_revert_token: /user/email-change/@token/revert = \GeoKrety\Controller\UserEmailChangeRevertToken->post

; user update password actions
GET  @user_update_password: /user/update-password [sync] = \GeoKrety\Controller\UserUpdatePassword->get
GET  @user_update_password: /user/update-password [ajax] = \GeoKrety\Controller\UserUpdatePassword->get_ajax
POST @user_update_password: /user/update-password = \GeoKrety\Controller\UserUpdatePassword->post

; user refresh secid actions
GET  @user_refresh_secid: /user/refresh-secid [sync] = \GeoKrety\Controller\UserRefreshSecid->get
GET  @user_refresh_secid: /user/refresh-secid [ajax] = \GeoKrety\Controller\UserRefreshSecid->get_ajax
POST @user_refresh_secid: /user/refresh-secid = \GeoKrety\Controller\UserRefreshSecid->post

; mailto
GET  @mail_by_geokret: /geokrety/@gkid/contact-owner [sync] = \GeoKrety\Controller\UserContactByGeokret->get
GET  @mail_by_geokret: /geokrety/@gkid/contact-owner [ajax] = \GeoKrety\Controller\UserContactByGeokret->get_ajax
POST @mail_by_geokret: /geokrety/@gkid/contact-owner = \GeoKrety\Controller\UserContactByGeokret->post

GET  @mail_to_user: /users/@userid/contact [sync] = \GeoKrety\Controller\UserContact->get
GET  @mail_to_user: /users/@userid/contact [ajax] = \GeoKrety\Controller\UserContact->get_ajax
POST @mail_to_user: /users/@userid/contact = \GeoKrety\Controller\UserContact->post

; Geokret Adoption
GET  @geokret_offer_for_adoption: /geokrety/@gkid/offer-for-adoption [ajax] = \GeoKrety\Controller\GeokretOfferForAdoption->get_ajax

; Geokret actions
GET  @geokrety_move_select_from_inventory: /move/select-from-inventory = \GeoKrety\Controller\GeokretMoveSelectFromInventory->get
GET  @move_create: /move = \GeoKrety\Controller\GeokretMove->get
POST @move_create: /move = \GeoKrety\Controller\GeokretMove->post
GET  @geokrety_move_edit: /move/@moveid/edit = \GeoKrety\Controller\GeokretMove->get
POST @geokrety_move_edit: /move/@moveid/edit = \GeoKrety\Controller\GeokretMove->post
GET  @move_delete: /move/@moveid/delete = \GeoKrety\Controller\GeokretMoveDelete->get
POST @move_delete: /move/@moveid/delete = \GeoKrety\Controller\GeokretMoveDelete->post

; Validations
POST @validate_tracking_code: /validate/tracking-code = \GeoKrety\Controller\Validation\TrackingCode->post, 0, 16  ; no cache + Rate limit
POST @validate_waypoint: /validate/waypoint = \GeoKrety\Controller\Validation\Waypoint->post, 0, 16  ; no cache + Rate limit
POST @validate_coordinates: /validate/coordinates = \GeoKrety\Controller\Validation\Coordinates->post, 0, 16  ; no cache + Rate limit
POST @validate_waypoint_name: /validate/waypoint/name = \GeoKrety\Controller\Validation\WaypointName->post, 0, 16  ; no cache + Rate limit
POST @validate_username_free: /validate/username/free = \GeoKrety\Controller\Validation\UsernameFree->post, 0, 16  ; no cache + Rate limit

[maps]

; help pages
@help: /help = \GeoKrety\Controller\Help
@help_api: /help/api = \GeoKrety\Controller\HelpApi

; user
@user_details: /users/@userid = \GeoKrety\Controller\UserDetails
@user_inventory: /user/@userid/inventory = \GeoKrety\Controller\UserInventory
@user_inventory_paginate: /user/@userid/inventory/page/@page = \GeoKrety\Controller\UserInventory
@user_owned: /user/@userid/owned-geokrety = \GeoKrety\Controller\UserOwnedGeokrety
@user_owned_paginate: /user/@userid/owned-geokrety/page/@page = \GeoKrety\Controller\UserOwnedGeokrety
@user_watched: /user/@userid/watched-geokrety = \GeoKrety\Controller\UserWatchedGeokrety
@user_watched_paginate: /user/@userid/watched-geokrety/page/@page = \GeoKrety\Controller\UserWatchedGeokrety
@user_recent_moves: /user/@userid/recent-moves = \GeoKrety\Controller\UserRecentMoves
@user_recent_moves_paginate: /user/@userid/recent-moves/page/@page = \GeoKrety\Controller\UserRecentMoves
@user_owned_recent_moves: /user/@userid/owned/recent-moves = \GeoKrety\Controller\UserOwnedGeokretyMoves
@user_owned_recent_moves_paginate: /user/@userid/owned/recent-moves/page/@page = \GeoKrety\Controller\UserOwnedGeokretyMoves

@password_recovery: /password-recovery = \GeoKrety\Controller\PasswordRecovery, 0, 16  ; no cache + Rate limit
@password_recovery_validate: /recover-password = \GeoKrety\Controller\PasswordChange
@password_recovery_validate_token: /recover-password/@token = \GeoKrety\Controller\PasswordChange

; geokret create / view / edit
@geokret_details: /geokrety/@gkid = \GeoKrety\Controller\GeokretDetails
@geokret_details_paginate: /geokrety/@gkid/page/@page = \GeoKrety\Controller\GeokretDetails
@geokret_create: /geokrety/create = \GeoKrety\Controller\GeokretCreate
@geokret_edit: /geokrety/@gkid/edit = \GeoKrety\Controller\GeokretEdit

; news details
@news_details: /news/@newsid = \GeoKrety\Controller\NewsDetails
@news_comment_delete: /news-comment/@newscommentid/delete = \GeoKrety\Controller\NewsCommentDelete

; move comment actions
@move_comment_delete: /move-comment/@movecommentid/delete = \GeoKrety\Controller\MoveCommentDelete

; georss
@user_georss: /users/@userid/georss = \GeoKrety\Controller\UserDetails

; observation area
@user_observation_area: /users/@userid/observation-area = \GeoKrety\Controller\UserUpdateObservationArea

; user statpic template chooser
@user_template_chooser: /users/@userid/choose-statpic-template = \GeoKrety\Controller\UserTemplateChooser

; Geokret Adoption/Claim
@geokret_claim: /geokrety/claim = \GeoKrety\Controller\GeokretClaim
@geokret_offer_for_adoption: /geokrety/@gkid/offer-for-adoption [sync] = \GeoKrety\Controller\GeokretOfferForAdoption

[redirects]
GET @statistics: /statistics = @work_in_progress
